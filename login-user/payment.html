<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/fontawesome-free-6.6.0-web/css/all.min.css">
    <link rel="stylesheet" href="../css/payment.css">
    <link rel="stylesheet" href="../bootstrap-5.0.2-dist/css/bootstrap.min.css">
    <title>Thanh Toán</title>
</head>

<body>
    <header>
        <div class="toggle">
            <i class="fa-solid fa-bars"></i>
            <i class="fa-solid fa-xmark"></i>
        </div>
        <a href="../login-user/index_user.html" class="logo">
            <img src="../image/logo.png">
        </a>
        <nav class="nav-menu" id="home">
            <ul>
                <li class="active"><a href="../login-user/index_user.html"><i
                            class="fa-solid fa-house-chimney"></i>Trang chủ</a></li>
                <li class="dropdown">
                    <a href="../login-user/menu/allmenu.html" id="menu-toggle"><i
                            class="fa-solid fa-caret-down"></i>Thực đơn</a>
                    <ul class="sub-menu">
                        <li><a href="../login-user/menu/phin-menu.html"><span>Cà phê phin</span></a></li>
                        <li><a href="../login-user/menu/phindi-menu.html"><span>Phindi</span></a></li>
                        <li><a href="../login-user/menu/freeze-menu.html"><span>Freeze</span></a></li>
                        <li><a href="../login-user/menu/tra-menu.html"><span>Trà</span></a></li>
                    </ul>
                </li>
                <li><a href="../login-user/news.html"><i class="fa-solid fa-newspaper"></i>Tin tức</a></li>
                <li><a href="../login-user/introduce.html"><i class="fa-solid fa-users-line"></i>Giới thiệu</a></li>
                <li><a href="./contact.html"><i class="fa-solid fa-phone"></i>Liên hệ</a></li>
            </ul>
        </nav>
        <!-- SEARCH -->
        <div class="icon">
            <div class="searchToggle">
                <i class="fa-solid fa-x cancel"></i>
                <i class="fa-solid fa-magnifying-glass search"></i>
            </div>
            <div class="searchBox">
                <form class="search-form" action="../login-user/search.html" method="get">
                    <ul class="search-bar">
                        <li class="dropdown-bar1">
                            <div id="drop-text" class="dropdown-text">
                                <span id="span">Tất cả</span>
                                <i id="icon" class="fa-solid fa-chevron-down"></i>
                            </div>
                            <ul id="list" class="dropdown-list">
                                <li class="dropdown-list-item">Tất cả</li>
                                <li class="dropdown-list-item">Cà phê phin</li>
                                <li class="dropdown-list-item">Phindi</li>
                                <li class="dropdown-list-item">Freeze</li>
                                <li class="dropdown-list-item">Trà</li>
                            </ul>
                        </li>
                        <li class="dropdown-bar2">
                            <div id="price-drop-text" class="dropdown-text">
                                <span id="price-span">Khoảng giá</span>
                                <i id="price-icon" class="fa-solid fa-chevron-down"></i>
                            </div>
                            <ul id="price-list" class="dropdown-list">
                                <li class="dropdown-list-item">Khoảng giá</li>
                                <li class="dropdown-list-item">Dưới 20k</li>
                                <li class="dropdown-list-item">20k - 50k</li>
                                <li class="dropdown-list-item">Trên 50k</li>
                            </ul>
                        </li>
                        <li class="search-box">
                            <input type="text" id="search-input" placeholder="Tìm kiếm..." required />
                            <button type="submit">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </button>
                        </li>
                    </ul>
                </form>
            </div>
            <div class="icon-item">
                <a href="../login-user/cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
                <div class="totalQuantity" id="cartQuantity">0</div>
            </div>
            <div class="icon-item">
                <a href="javascript:void(0);">
                    <img src=".././image/khác/user.png">
                    <ul class="dropdown-user1">
                        <li><a href="../login-user/profile.html">Thông tin cá nhân</a></li>
                        <li><a href="../login-user/goods.html">Đơn đã mua</a></li>
                        <li><a href="../../index.html">Đăng xuất</a></li>
                    </ul>
                </a>
            </div>
        </div>
    </header>

    <!-- BREADCRUMB -->
    <section class="breadcrumb_section container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../login-user/index_user.html">Trang chủ</a></li>
                <li class="breadcrumb-item"><a href="../login-user/cart.html">Giỏ hàng</a></li>
                <li class="breadcrumb-item active" aria-current="page"><strong>Thanh Toán</strong></li>
            </ol>
        </nav>
    </section>

    <!-- PAYMENT  -->
    <section class="payment-container container">
        <div class="row">
            <!-- Cột trái: Form thanh toán -->
            <div class="payment__content__left col-lg-6 col-12 p-4" style="padding-top: 20px;">
                <h2 class="mb-4" style="margin-left: -15px;"><strong>Thông tin thanh toán</strong></h2>
                <form class="payment--form" method="post" action="" onsubmit="return validatePaymentMethod()">
                    <!-- Thông tin mặc định -->
                    <div class="mb-3">
                        <input type="radio" id="defaultAddress" name="addressOption" value="default" checked
                            onclick="toggleAddressInput()">
                        <label style="display: inline-block;" for="defaultAddress">Sử dụng thông tin mặc định</label>
                        <div id="defaultAddressFields" class="p-3 border rounded mt-2">
                            <p><strong>Người nhận:</strong> <span id="defaultReceiver">A07</span></p>
                            <p><strong>Điện thoại:</strong> <span id="defaultPhone">(+84) 865 172 517</span></p>
                            <p><strong>Địa chỉ:</strong> <span id="defaultAddressText">273 Đ. An Dương Vương, Quận 5,
                                    TP. Hồ Chí Minh</span></p>
                        </div>
                    </div>

                    <!-- Thông tin mới -->
                    <div class="mb-3">
                        <input type="radio" id="newAddress" name="addressOption" value="new"
                            onclick="toggleAddressInput()">
                        <label style="display: inline-block;" for="newAddress">Nhập thông tin mới</label>
                        <div id="newAddressFields" class="p-3 border rounded mt-2" style="display: none;">
                            <div class="mb-3">
                                <label for="payment--receiver"><i class="fas fa-user"></i> Họ tên:</label>
                                <input type="text" id="payment--receiver" class="form-control"
                                    placeholder="Tên người nhận">
                            </div>
                            <div class="mb-3">
                                <label for="payment--phone"><i class="fas fa-phone"></i> Số điện thoại:</label>
                                <input type="tel" id="payment--phone" class="form-control" placeholder="Số điện thoại"
                                    pattern="(84|0[3|5|7|8|9])+([0-9]{8})\b">
                            </div>
                            <div class="mb-3">
                                <label for="payment--adr"><i class="fas fa-map-marker-alt"></i> Địa chỉ:</label>
                                <input type="text" id="payment--adr" class="form-control"
                                    placeholder="Địa chỉ nhận hàng">
                            </div>
                        </div>
                    </div>

                    <!-- Ghi chú -->
                    <div class="mb-4">
                        <label for="payment--note"><i class="far fa-comment"></i> Ghi chú:</label>
                        <textarea id="payment--note" class="form-control" rows="3"
                            placeholder="Nhập ghi chú"></textarea>
                    </div>

                    <!-- Nút đặt hàng -->
                    <button style="background-color: #28a745;" type="button" id="orderBtn" class="btn btn-success w-100" onclick="window.location.href='./thanks.html';">
                        Đặt hàng
                    </button>
                </form>
            </div>

            <!-- Cột phải: Thông tin đơn hàng -->
            <div class="payment__content__right col-lg-6 col-12 p-4">
                <h4 class="mb-4" style="margin-bottom: -10px;">Thông tin đơn hàng</h4>
                <div class="orders__submit--total mb-4">
                    <div class="temp--money">
                        <p>Tạm tính: <span id="subtotal">220.000 VNĐ</span></p>
                    </div>
                    <div class="temp--money">
                        <p>Phí vận chuyển: <span>10.000 VNĐ</span></p>
                    </div>
                    <div class="into--money">
                        <p><strong>Thành tiền:</strong> <span id="total">230.000 VNĐ</span></p>
                    </div>
                </div>

                <hr>
                <!-- Phương thức thanh toán -->
                <div class="pay">
                    <h3>Phương thức thanh toán</h3>
                    <label for="payment__method">Chọn phương thức:</label>

                    <div class="btn-group" id="payment__method" role="group"
                        aria-label="Basic radio toggle button group">
                        <!-- VISA -->
                        <div class="payment-option">
                            <input type="radio" name="paymentMethod" id="btnradioVisa" onclick="toggleCardForm()" />
                            <label class="btn" for="btnradioVisa">
                                <img src="https://bizweb.dktcdn.net/100/421/124/themes/811860/assets/cart_payment_1.svg?1617678628801"
                                    alt="Thanh toán VISA" width="50">
                            </label>
                        </div>
                        <!-- Napas -->
                        <div class="payment-option">
                            <input type="radio" name="paymentMethod" id="btnradioNapas" onclick="toggleCardForm()" />
                            <label class="btn" for="btnradioNapas">
                                <img src="https://crop-image-online.com/uploads/StpBIl4s8yfqWDWsTOPsSYQqp5e7N3ICmuYLWHie/crop-image-online.com_1733278127_image-ito8ke5v_lbgvH5CZ.png"
                                    alt="Thanh toán Napas" width="50">
                            </label>
                        </div>
                        <!-- Cash -->
                        <div class="payment-option">
                            <input type="radio" name="paymentMethod" id="btnradioCash" onclick="toggleCardForm()" />
                            <label class="btn" for="btnradioCash">
                                <img src="https://bizweb.dktcdn.net/100/421/124/themes/811860/assets/cart_payment_4.svg?1617678628801"
                                    alt="Thanh toán tiền mặt" width="50">
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Thông báo khi chọn tiền mặt -->
                <div id="cashNotice" style="display: none; margin-top: 20px; font-size: 16px; color: #ff0000;">
                    <i class="fas fa-exclamation-circle"></i> Vui lòng chuẩn bị tiền mặt để thanh toán cho nhân viên
                    giao hàng!
                </div>

                <!-- Form thông tin thẻ -->
                <div class="visaForm" id="visaForm" style="display: none;">
                    <h4>Thông Tin Thẻ</h4>
                    <form>
                        <div class="form-group">
                            <label for="bank">Tên ngân hàng:</label>
                            <input type="text" id="bank" placeholder="Nhập tên ngân hàng" required />
                        </div>

                        <div class="form-group">
                            <label for="cardNumber">Số thẻ:</label>
                            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required />
                        </div>

                        <div class="form-group">
                            <label for="cardHolderName">Tên chủ thẻ:</label>
                            <input type="text" id="cardHolderName" placeholder="HO VA TEN" required />
                        </div>

                        <div class="form-group">
                            <label for="cardExpiry">Hạn thẻ:</label>
                            <input type="month" id="cardExpiry" placeholder="MM/YY" required />
                        </div>

                        <div class="modal-actions">
                            <button type="button" id="cancelBtn">Trở Lại</button>
                            <button type="submit" id="saveBtn">Xác Nhận</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>


    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section about">
                <h2>Về Chúng Tôi</h2>
                <p>Chúng tôi cung cấp các loại đồ uống chất lượng, phục vụ với sự tận tâm và chuyên nghiệp.</p>
            </div>
            <div class="footer-section links">
                <h2>Liên Kết</h2>
                <ul>
                    <li><a href="../login-user/index_user.html">Trang chủ</a></li>
                    <li><a href="../login-user/menu/allmenu.html">Thực dơn</a></li>
                    <li><a href="../login-user/news.html">Tin tức</a></li>
                    <li><a href="../login-user/introduce.html">Giới thiệu</a></li>
                    <li><a href="../login-user/contact.html">Liên hệ</a></li>
                </ul>
            </div>
            <div class="footer-section social">
                <h2>Kết Nối Với Chúng Tôi</h2>
                <a href="https://web.facebook.com/highlandscoffeevietnam" target="_blank"><i
                        class="fa-brands fa-facebook"></i></a>
                <a href="https://www.instagram.com/highlandscoffeevietnam/" target="_blank"><i
                        class="fa-brands fa-instagram"></i></a>
                <a href="https://x.com/" target="_blank"><i class="fa-brands fa-twitter"></i></a>
            </div>
            <div class="footer-section members">
                <h2>Thành Viên</h2>
                <ul>
                    <li><a href="#">Lê Thị Thủy Tiên</a></li>
                    <li><a href="#">Võ Thị Thu Luyện</a></li>
                    <li><a href="#">Nguyễn Thị Ngọc Tú</a></li>
                    <li><a href="#">Trần Thị Xuân Thanh</a></li>
                    <li><a href="#">Nguyễn Huỳnh Yến Linh</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <hr>
            &copy; Highlands Coffee | Thiết kế bởi Nhóm A07
        </div>
    </footer>
    <!-- TOP -->
    <div id="scrollToTopBtn">
        <a href="#home"><i class="fa-solid fa-chevron-up"></i></a>
    </div>
    <script src="../js/profile.js"></script>
    <script src="../js/payment.js"></script>
    <!-- BOOSTRAP JS  -->
    <script src="../../bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            updateCartQuantity();
        });

        window.addEventListener("storage", function (event) {
            if (event.key === "cart") {
                updateCartQuantity();
            }
        });

        function updateCartQuantity() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartQuantityElement = document.getElementById("cartQuantity");

            if (cartQuantityElement) {
                cartQuantityElement.textContent = totalQuantity;
            }
        }

    </script>
    <script>
        function togglePaymentMethod() {
            const visaForm = document.getElementById("visaForm");
            const cashNotice = document.getElementById("cashNotice");

            // Kiểm tra trạng thái của các radio button
            const isVisaSelected = document.getElementById("btnradioVisa").checked;
            const isNapasSelected = document.getElementById("btnradioNapas").checked;
            const isCashSelected = document.getElementById("btnradioCash").checked;

            if (isVisaSelected || isNapasSelected) {
                // Hiển thị form thông tin thẻ
                visaForm.style.display = "block";
                cashNotice.style.display = "none"; 
            } else if (isCashSelected) {
                // Hiển thị thông báo tiền mặt
                visaForm.style.display = "none";
                cashNotice.style.display = "block";
            } else {
                // Ẩn tất cả khi không có gì được chọn
                visaForm.style.display = "none";
                cashNotice.style.display = "none";
            }
        }

        function hideVisaForm() {
            const visaForm = document.getElementById("visaForm");
            const cashNotice = document.getElementById("cashNotice");
            const cashOption = document.getElementById("btnradioCash");

            // Chọn lại tiền mặt và hiển thị thông báo
            cashOption.checked = true;
            visaForm.style.display = "none";
            cashNotice.style.display = "block";
        }

    </script>
    <script>
        function toggleCardForm() {
            const visaForm = document.getElementById("visaForm");
            const isVisaSelected = document.getElementById("btnradioVisa").checked;
            const isNapasSelected = document.getElementById("btnradioNapas").checked;

            if (isVisaSelected || isNapasSelected) {
                visaForm.style.display = "block";
            } else {
                visaForm.style.display = "none";
            }
        }

        document.getElementById("cancelBtn").addEventListener("click", function () {
            const visaForm = document.getElementById("visaForm");
            const cashOption = document.getElementById("btnradioCash");

            visaForm.style.display = "none";
            cashOption.checked = true;
        });

    </script>
    
</body>

</html>